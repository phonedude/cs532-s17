[u'html', u'59th GRAMMYs', u' start header code ', u'\n', u' init google ads ', u'\n', u'\nvar googletag = googletag || {};\ngoogletag.cmd = googletag.cmd || [];\n\n(function() {\n  var gads = document.createElement("script");\n  gads.async = true;\n  gads.type = "text/javascript";\n  var useSSL = "https:" == document.location.protocol;\n  gads.src = (useSSL ? "https:" : "http:") +\n    "//www.googletagservices.com/tag/js/gpt.js";\n  var node = document.getElementsByTagName("script")[0];\n  node.parentNode.insertBefore(gads, node);\n})();\n\ngoogletag.cmd.push(function() {\n  googletag.pubads().collapseEmptyDivs();\n  googletag.pubads().addEventListener(\'slotRenderEnded\', function(e) {\n    return $(\'#application\').trigger(\'slotRenderEnded\', e);\n  });\n  googletag.enableServices();\n});\n', u'\n', u' quests custom styling ', u'\n', u'\n  #sidebar .panels .panel[data-kind=\'quests\']:before {\n    content: "THIS PROMOTION IS OPEN ONLY TO LEGAL RESIDENTS OF THE UNITED STATES WHO ARE 18 YEARS OF AGE OR OLDER AT TIME OF ENTRY.";\n    display: block;\n    padding: 10px 45px;\n    font-size: 10px;\n    opacity: .4;\n    text-align: center;\n  }\n', u'\n', u' css overrides on all quests ', u'\n', u'\n#player {background-color: #000;}\n.dobi-modal.login-modal .maestro {display: none !important}\n#header .auth {display: none !important;}\n#footer .sponsors .sponsor[data-name="Powered By Maestro"] {\n  display: none !important;\n}\n\n/* styling to hide google and embed share from player footer */\n#player .footer .share.btn.right .menu .btn[data-service="google"] {\n  display: none !important;\n}\n#player .footer .share.btn.right .menu .btn[data-service="embed"] {\n  display: none !important;\n}\n', u'\n', u' css overrides for cbs iframe integration ', u'\n', u'\n/* styling to info button and share from player footer */\nhtml.grammys #navigation {\n  display: none !important;\n}\nhtml.grammys #player .footer .share.btn.right {\n  display: none !important;\n}\nhtml.grammys #player .footer .info-view.btn.right {\n  display: none !important;\n}\n\n/* hide powered by maestro, display image of it instead */\n/* hand hide nav, header, footer sponsor and footer hash */\nhtml.grammys #footer .maestro-back {\n  display: none !important;\n}\nhtml.grammys #footer > .actions {\n  display: none !important;\n}\nhtml.grammys #footer > .hashtag.btn {\n  display: none !important;\n}\nhtml.grammys #footer .sponsors .sponsor[data-name="Powered By Maestro"] {\n  display: block !important;\n}\nhtml.grammys #application.nav-on #header {\n  display: none !important;\n}\n\nhtml.grammys #application.header-on #header {\n  display: none !important;\n}\n\n/* web styling */\n@media (min-width: 801px) {\n  html.grammys #application.header-on #player {\n    top: 0 !important;\n  }\n  html.grammys #application.header-on #sidebar {\n    top: 0 !important;\n  }\n  html.grammys #application.header-on.nav-on #player {\n    top: 0 !important;\n  }\n  html.grammys #application.header-on.nav-on #sidebar {\n    top: 0 !important;\n  }\n}\n\n/* mobile styling*/\n@media (max-width: 800px) {\n  html.grammys #application.mobile-header-on #player {\n    top: 0 !important;\n  }\n  html.grammys #application.mobile-header-on #sidebar {\n    top: 240px !important;\n  }\n}\n\n', u'\n', u' end header ', u'\n', u'window.db = {};\nwindow.lt3 = {};\nlt3.init = {};\nlt3.init.site = {"_id":"584f5da6a5c630e278471ed2","collections":{"ads":{"slug":"ads"},"articles":{"slug":"articles"},"categories":{"slug":"category"},"channels":{"slug":"channel"},"episodes":{"slug":"episode"},"panel_sets":{"slug":"panel_set"},"panels":{"slug":"panel"},"people":{"slug":"artist"},"playlists":{"slug":"playlist"},"polls":{"slug":"poll"},"shows":{"slug":"show"},"tags":{"slug":"tag"},"videos":{"slug":"video"}},"created":1481596326066,"last_modified":1488396700015,"mentor":{"add_socials":true,"finish":true,"init_theme":true,"pick_theme":true,"welcome":true,"welcome_user":true},"name":"grammys-2017","package":{"core":"3.0.1","id":"maestro","version":"4.03.0"},"regions":{"channel-select":{"background":"\\/media\\/585980f29b81c67007c66be8\\/chan-select.jpg","pages":[{"image":"\\/media\\/5875654858dd73ae4099f2ba\\/icon6.png","image_active":"\\/media\\/58756553c1ffc60435d5233d\\/icon6-a.png","page":{"_id":"588f9e42bcaa47c86e047b82","seo":{"title":"59th GRAMMYs"},"slug":"59th-grammys"}},{"image":"\\/media\\/585981bd8069bc144ef41570\\/icon5.png","image_active":"\\/media\\/585981c3148658b21e76b0c5\\/icon5-a.png","page":{"_id":"585080dfe8f941b83a066e4a","seo":{"title":"Highlights"},"slug":"highlights"}}],"state":"on"},"featured":{"background":"","pages":[{"image":"http:\\/\\/www.maestro.io\\/media\\/55134cb75909c93a071ed150\\/welcome.png","image_active":"http:\\/\\/www.maestro.io\\/media\\/55134d0f2ba5513c0775e69c\\/welcome-a.png","page":{"_id":"5511e1731dcc607e4b6bd18e","seo":{"title":"Welcome to Maestro"},"slug":""}},{"image":"http:\\/\\/www.maestro.io\\/media\\/55134d1f2ba5513c0775e69d\\/tuts.png","image_active":"http:\\/\\/www.maestro.io\\/media\\/55134d242ba5513c0775e69e\\/tuts-a.png","page":{"_id":"5511f3d2dcab55dc5ec0b257","seo":{"title":"Tutorials"},"slug":"tutorials"}},{"image":"http:\\/\\/www.maestro.io\\/media\\/55134da0fa86f0e025ce1a2d\\/blog.png","image_active":"http:\\/\\/www.maestro.io\\/media\\/55134da72ba5513c0775e69f\\/blog-a.png","page":{"_id":"5511f3c95425a7de5ef40642","seo":{"title":"Blog"},"slug":"blog"}},{"image":"http:\\/\\/www.maestro.io\\/media\\/55134dbaae950be225dbcf5a\\/contact.png","image_active":"http:\\/\\/www.maestro.io\\/media\\/55134dc297804de525adc35e\\/contact-a.png","page":{"_id":"5511f2621dcc607e4b6bd196","seo":{"title":"Contact"},"slug":"contact"}}],"state":"on"},"footer":{"actions":[{"icon":"facebook","kind":"link","name":"Facebook","url":"https:\\/\\/www.facebook.com\\/RecordingAcademy\\/"},{"icon":"twitter","kind":"link","name":"Twitter","url":"https:\\/\\/twitter.com\\/RecordingAcad?lang=en"}],"background":"\\/media\\/58597c5242bca3206b504353\\/footer-bg.jpg","hashtag":"GRAMMYs","links":[{"icon":"facebook","image":"","kind":"icon","name":"Facebook","text":"","url":"https:\\/\\/www.facebook.com\\/assassinscreedUS"},{"icon":"twitter","image":"","kind":"icon","name":"Twitter","text":"","url":"https:\\/\\/twitter.com\\/assassinscreed"},{"icon":"","image":"","kind":"text","name":"Test","text":"test","url":"https:\\/\\/www.facebook.com\\/assassinscreedUS"}],"newsletter":{"html":"\\u003C!-- Begin MailChimp Signup Form --\\u003E\\n\\u003Clink href=\\"\\/\\/cdn-images.mailchimp.com\\/embedcode\\/slim-081711.css\\" rel=\\"stylesheet\\" type=\\"text\\/css\\"\\u003E\\n\\u003Cstyle type=\\"text\\/css\\"\\u003E\\n\\t#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; }\\n\\t\\/* Add your own MailChimp form style overrides in your site stylesheet or in this style block.\\n\\t   We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. *\\/\\n\\u003C\\/style\\u003E\\n\\u003Cdiv id=\\"mc_embed_signup\\"\\u003E\\n\\u003Cform action=\\"\\/\\/3lau.us4.list-manage.com\\/subscribe\\/post?u=552fdb080c622ff048da9ed13&amp;id=a18a41d6b1\\" method=\\"post\\" id=\\"mc-embedded-subscribe-form\\" name=\\"mc-embedded-subscribe-form\\" class=\\"validate\\" target=\\"_blank\\" novalidate\\u003E\\n    \\u003Cdiv id=\\"mc_embed_signup_scroll\\"\\u003E\\n\\t\\u003Clabel for=\\"mce-EMAIL\\"\\u003ESubscribe to our mailing list\\u003C\\/label\\u003E\\n\\t\\u003Cinput type=\\"email\\" value=\\"\\" name=\\"EMAIL\\" class=\\"email\\" id=\\"mce-EMAIL\\" placeholder=\\"email address\\" required\\u003E\\n    \\u003C!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--\\u003E\\n    \\u003Cdiv style=\\"position: absolute; left: -5000px;\\"\\u003E\\u003Cinput type=\\"text\\" name=\\"b_552fdb080c622ff048da9ed13_a18a41d6b1\\" tabindex=\\"-1\\" value=\\"\\"\\u003E\\u003C\\/div\\u003E\\n    \\u003Cdiv class=\\"clear\\"\\u003E\\u003Cinput type=\\"submit\\" value=\\"Subscribe\\" name=\\"subscribe\\" id=\\"mc-embedded-subscribe\\" class=\\"button\\"\\u003E\\u003C\\/div\\u003E\\n    \\u003C\\/div\\u003E\\n\\u003C\\/form\\u003E\\n\\u003C\\/div\\u003E\\n\\n\\u003C!--End mc_embed_signup--\\u003E","kind":"input","text":"Sign up to receive updates!"},"sharing":[{"description":"description","hashtag":"","image":"","kind":"facebook","name":"Share","text":"","title":"title","tweet_text":""},{"description":"","hashtag":"#testing","image":"","kind":"twitter","name":"Tweet","text":"","title":"","tweet_text":"tweet"},{"description":"","hashtag":"","image":"","kind":"google","name":"Google","text":"test","title":"","tweet_text":""}],"socials":{"0":{"icon":"facebook","url":"https:\\/\\/www.facebook.com\\/assassinscreedUS"},"facebook":{"active":true,"description":"Come check it out!","image":"","title":"Lt3 TV"},"google":{"active":true},"twitter":{"active":true,"hashtag":"InternationalCES","text":"Come check it out!"}},"sponsors":[{"image":"\\/media\\/587029cf1a3ab656291a9075\\/powered-by-maestro-1.png","link":"","name":"Powered By Maestro"}],"state":"on"},"header":{"authentication":{"battlenet":false,"coachella":false,"facebook":true,"faceit":false,"maestro":false,"openid":false,"origin":false,"playstation":false,"twitch":false,"wargaming":false,"xbox":false},"background":"\\/media\\/58597c426e2e154325de5b1c\\/header-bg.jpg","default_profile":"","logo":"\\/media\\/586ecdb22576199948997ed7\\/header-logo.png","logo_link":"\\/","mobile":{"background":"","logo":"http:\\/\\/www.maestro.io\\/media\\/54aad4e754b6d9f56104688b\\/intl-ces-1.png"},"mobile_logo":"","profile_images":[{"image":"http:\\/\\/www.maestro.io\\/media\\/57ae56f58f5246d573806aae\\/maestro-avatar-circle.jpg","title":"Circle","url":"\\/media\\/57a3d03b50d4fc6865b2ddcc\\/maestro-avatar-triangle.jpg"},{"image":"http:\\/\\/www.maestro.io\\/media\\/57ae5700d4b7f297114b12bd\\/maestro-avatar-hexagon.jpg","title":"Hexagon","url":"\\/media\\/57a3d03b1f398c133b019924\\/maestro-avatar-pentagon.jpg"},{"image":"http:\\/\\/www.maestro.io\\/media\\/57ae5712365f7c9b3d68c96a\\/maestro-avatar-pentagon.jpg","title":"Pentagon","url":"\\/media\\/57a3d03b7e5711753824115f\\/maestro-avatar-hexagon.jpg"},{"image":"http:\\/\\/www.maestro.io\\/media\\/57ae5720d4b7f297114b12be\\/maestro-avatar-square.jpg","title":"Square","url":"\\/media\\/57a3d03b5d38c19670feb9d1\\/maestro-avatar-circle.jpg"},{"image":"http:\\/\\/www.maestro.io\\/media\\/57ae572ddf26c9d373beb1cc\\/maestro-avatar-triangle.jpg","title":"Triangle","url":"\\/media\\/57a3d03b5d38c19670feb9d2\\/maestro-avatar-square.jpg"}],"state":"on"},"navigation":{"background":"\\/media\\/58597c426e2e154325de5b1c\\/header-bg.jpg","items":[{"has_menu":"no","link":"https:\\/\\/www.grammy.com\\/nominees","text":"WINNERS"},{"has_menu":"no","image":"","link":"https:\\/\\/www.grammy.com\\/news","text":"NEWS"},{"has_menu":"no","link":"https:\\/\\/www.grammy.com\\/photos","text":"PHOTOS"},{"has_menu":"no","link":"https:\\/\\/www.grammy.com\\/videos","text":"VIDEOS"},{"has_menu":"no","link":"https:\\/\\/www.grammy.org\\/recording-academy\\/press-room","text":"PRESS"},{"has_menu":"no","link":"https:\\/\\/www.grammy.com\\/partners","text":"PARTNERS"},{"has_menu":"no","link":"http:\\/\\/grammystore.com\\/","text":"STORE"}],"layout":"over_header","state":"on"},"player":{"autoplay_youtube":true,"show_video_title":false}},"settings":{"code_injection":{"footer":"\\u003C!-- start footer --\\u003E\\n\\u003C!--  add grammys class if coming from iframe --\\u003E\\n\\u003Cscript type = \\"text\\/javascript\\"\\u003E\\n  var is_iframe;\\n  is_iframe = (window.location != window.parent.location) ? true : false;\\n  if (is_iframe) {\\n    $(\'html\').addClass(\'grammys\');\\n  }\\n\\u003C\\/script\\u003E\\n\\n\\u003C!-- generate random ad target value for CBS ads --\\u003E\\n\\u003Cscript type=\\"text\\/javascript\\"\\u003E\\n  function randomGrammyAdGenerator() {\\n    if (dobi.storage.get(\'cbs\') === null) {\\n      var category = _.sample([\'a\', \'b\', \'c\', \'d\']);\\n      dobi.storage.set(\'cbs\', category);\\n    }\\n    if (dobi.storage.get(\'CBS_ADV_SUBSES_VAL\') === null) {\\n      var subses = _.sample([\'1\', \'2\', \'3\', \'4\']);\\n      dobi.storage.set(\'CBS_ADV_SUBSES_VAL\', subses);\\n    }\\n    return\\n  }\\n  randomGrammyAdGenerator()\\n\\u003C\\/script\\u003E\\n\\n\\u003C!-- handle footer hashtag override --\\u003E\\n\\u003Cscript type=\\"text\\/javascript\\"\\u003E\\n(function(next) {\\n  var loadDependencies;\\n  loadDependencies = function() {\\n    var ref, ref1;\\n    if (typeof app !== \\"undefined\\" && app !== null ? (ref = app.regions) != null ? (ref1 = ref.footer) != null ? ref1.$el : void 0 : void 0 : void 0) {\\n      return next();\\n    } else {\\n      return setTimeout((function() {\\n        return loadDependencies();\\n      }), 100);\\n    }\\n  };\\n  return loadDependencies();\\n})(function(throwaway) {\\n  return app.regions.footer.ref.on(\'value\', function() {\\n    return app.regions.footer.setTimeout(\'wait-for-render\', 1, function() {\\n      var qs;\\n      qs = \'.hashtag[data-service=\\"twitter\\"]\';\\n      return app.regions.footer.$el.find(qs).off(\'click\').on(\'click\', function(e) {\\n        var h, k, left, params, ref, ref1, service, top, url, v, w, wh, ww;\\n        e.stopPropagation();\\n        params = ((function() {\\n          var ref, results;\\n          ref = {\\n            text: \'I am watching behind-the-scenes action on\',\\n            url: window.location,\\n            hashtags: \'GRAMMYLive!\'\\n          };\\n          results = [];\\n          for (k in ref) {\\n            v = ref[k];\\n            results.push(k + \\"=\\" + (encodeURIComponent(v)));\\n          }\\n          return results;\\n        })()).join(\'&\');\\n        ww = $(window).width();\\n        wh = $(window).height();\\n        w = Math.min(650, ww);\\n        h = Math.min(400, wh);\\n        left = (ww - w) \\/ 2;\\n        top = (wh - h) \\/ 2;\\n        url = \\"https:\\/\\/twitter.com\\/intent\\/tweet?\\" + params;\\n        window.open(url, \'Share a link on Twitter\', [\'toolbar=no\', \'location=no\', \'directories=no\', \'status=no\', \'menubar=no\', \'scrollbars=no\', \'resizable=no\', \'copyhistory=no\', \\"width=\\" + w, \\"height=\\" + h, \\"top=\\" + top, \\"left=\\" + left].join(\',\'));\\n        service = \'twitter\';\\n        if ((ref = app.regions.player) != null) {\\n          ref.emit(\'social-share\', service);\\n        }\\n        return (ref1 = app.regions.player) != null ? ref1.trackSocialVideo(service) : void 0;\\n      });\\n    });\\n  });\\n});\\n\\u003C\\/script\\u003E\\n\\n\\u003C!-- handle player footer override --\\u003E\\n\\u003Cscript type=\'text\\/javascript\'\\u003E\\n(function() {\\n  var init;\\n  init = function(next) {\\n    var ref, ref1;\\n    if (!(typeof app !== \\"undefined\\" && app !== null ? (ref = app.regions) != null ? (ref1 = ref.player) != null ? ref1.$el : void 0 : void 0 : void 0)) {\\n      return setTimeout((function() {\\n        return init(next);\\n      }), 100);\\n    } else {\\n      return next();\\n    }\\n  };\\n  return init(function() {\\n    return app.regions.player.on(\'player-change\', function() {\\n      return app.regions.player.setTimeout(\'wait-for-render\', 1, function() {\\n        var $player, $twitter;\\n        $player = app.regions.player.$el;\\n        $twitter = $player.find(\\".share .menu .btn[data-service=\'twitter\']\\");\\n        return $twitter.off(\'click\').on(\'click\', function(e) {\\n          var h, k, left, params, ref, ref1, service, top, url, v, w, wh, ww;\\n          e.stopPropagation();\\n          params = ((function() {\\n            var ref, results;\\n            ref = {\\n              text: \'I am watching behind-the-scenes action on\',\\n              url: window.location,\\n              hashtags: \'GRAMMYLive!\'\\n            };\\n            results = [];\\n            for (k in ref) {\\n              v = ref[k];\\n              results.push(k + \\"=\\" + (encodeURIComponent(v)));\\n            }\\n            return results;\\n          })()).join(\'&\');\\n          ww = $(window).width();\\n          wh = $(window).height();\\n          w = Math.min(650, ww);\\n          h = Math.min(400, wh);\\n          left = (ww - w) \\/ 2;\\n          top = (wh - h) \\/ 2;\\n          url = \\"https:\\/\\/twitter.com\\/intent\\/tweet?\\" + params;\\n          window.open(url, \'Share a link on Twitter\', [\'toolbar=no\', \'location=no\', \'directories=no\', \'status=no\', \'menubar=no\', \'scrollbars=no\', \'resizable=no\', \'copyhistory=no\', \\"width=\\" + w, \\"height=\\" + h, \\"top=\\" + top, \\"left=\\" + left].join(\',\'));\\n          service = \'twitter\';\\n          if ((ref = app.regions.player) != null) {\\n            ref.emit(\'social-share\', service);\\n          }\\n          return (ref1 = app.regions.player) != null ? ref1.trackSocialVideo(service) : void 0;\\n        });\\n      });\\n    });\\n  });\\n})();\\n\\u003C\\/script\\u003E\\n\\n\\u003C!-- pre-roll logic --\\u003E\\n\\u003Cscript type=\'text\\/javascript\'\\u003E\\n(function() {\\n  var feb_10_2017, init;\\n  feb_10_2017 = 1486746000000;\\n  init = function() {\\n    var initPreRoll, state, _ref, _ref1;\\n    if (!(typeof app !== \\"undefined\\" && app !== null ? (_ref = app.regions) != null ? (_ref1 = _ref.player) != null ? typeof _ref1.activePlayer === \\"function\\" ? _ref1.activePlayer() : void 0 : void 0 : void 0 : void 0)) {\\n      return setTimeout((function() {\\n        return init();\\n      }), 250);\\n    }\\n    switch (lt3.site.get(\'slug\').val()) {\\n      case \'grammys-2017-pre\':\\n        state = \'pre\';\\n        break;\\n      case \'grammys-2017\':\\n        state = \'production\';\\n        break;\\n      case \'grammys-2017-cbs\':\\n      case \'grammys-2017-live\':\\n      case \'grammys-2017-testing\':\\n        state = \'live\';\\n        break;\\n      case \'grammys-2017-post\':\\n        state = \'post\';\\n        break;\\n      default:\\n        return dobi.warn(\'invalid site\');\\n    }\\n    initPreRoll = function() {\\n      var ad, enabled, funcs, page_title, _ref2, _ref3, _ref4;\\n      if (((_ref2 = lt3.object) != null ? _ref2.get(\'type\').val() : void 0) !== \'channel\') {\\n        return;\\n      }\\n      page_title = lt3.object.get(\'seo.title\').val();\\n      funcs = app.regions.player.handlers[\'player-change\'] || [];\\n      app.regions.player.handlers[\'player-change\'] = funcs.filter(function(func) {\\n        return !\\/grammy_preroll_listener\\/.test(func.toString());\\n      });\\n      enabled = false;\\n      if (state === \'pre\') {\\n        if (state === \'pre\') {\\n          enabled = true;\\n        }\\n      }\\n      if (state === \'live\' || state === \'post\') {\\n        if (\\/highlights\\/i.test(page_title)) {\\n          enabled = true;\\n        }\\n      }\\n      if (state === \'production\' && Date.now() \\u003E= feb_10_2017) {\\n        if (\\/highlights\\/i.test(page_title)) {\\n          enabled = true;\\n        }\\n      }\\n      if (!enabled) {\\n        return;\\n      }\\n      ad = lt3.object.get(\'data.ads.pre_roll_video\').val();\\n      if (!(ad != null ? (_ref3 = ad.video) != null ? _ref3._id : void 0 : void 0)) {\\n        return dobi.warn(\'pre-roll not found\');\\n      }\\n      return db.objects.findById(ad != null ? (_ref4 = ad.video) != null ? _ref4._id : void 0 : void 0, function(err, video) {\\n        var current_player_state, loadPreRoll, onPlayerChange, playlist_counter, prev_player_state, prev_playlist_preroll_time;\\n        if (err) {\\n          return dobi.warn(err);\\n        }\\n        current_player_state = \'init\';\\n        playlist_counter = 0;\\n        prev_player_state = \'init\';\\n        prev_playlist_preroll_time = 0;\\n        loadPreRoll = function() {\\n          var _ref5;\\n          return (_ref5 = app.regions.player) != null ? _ref5.annotate({\\n            ad: {\\n              data: {\\n                companion_ads: [],\\n                kind: \'vast\',\\n                name: \'CBS Pre-Roll\',\\n                url: video.get(\'data.url\').val()\\n              }\\n            },\\n            kind: \'show_video_ad\',\\n            skip_time: 0,\\n            on: {\\n              stop: function() {\\n                playlist_counter = 0;\\n                return prev_playlist_preroll_time = Date.now();\\n              }\\n            }\\n          }) : void 0;\\n        };\\n        onPlayerChange = function(player) {\\n          var x;\\n          if (!player) {\\n            return;\\n          }\\n          x = \'grammy_preroll_listener\';\\n          prev_player_state = current_player_state;\\n          current_player_state = player.$el.data(\'spot\');\\n          switch (current_player_state) {\\n            case \'channel\':\\n              if (prev_player_state === \'channel\') {\\n                playlist_counter++;\\n                if ((Date.now() - prev_playlist_preroll_time) \\u003E= (2 * 60 * 1000)) {\\n                  if (playlist_counter \\u003E= 3) {\\n                    app.regions.player.players.channel.player.mute(0);\\n                    app.regions.player.removePlayer(\'channel\');\\n                    return loadPreRoll();\\n                  }\\n                }\\n              } else if (prev_player_state === \'video\') {\\n                return playlist_counter = 0;\\n              }\\n              break;\\n            case \'video\':\\n              if (prev_player_state === \'channel\') {\\n                return playlist_counter = 0;\\n              }\\n          }\\n        };\\n        return app.regions.player.on(\'player-change\', onPlayerChange);\\n      });\\n    };\\n    initPreRoll();\\n    return app.regions.header.objectLoading = function() {\\n      return initPreRoll();\\n    };\\n  };\\n  return init();\\n})();\\n\\u003C\\/script\\u003E\\n\\u003C!-- end footer --\\u003E\\n","header":"\\u003C!-- start header code --\\u003E\\n\\u003C!-- init google ads --\\u003E\\n\\u003Cscript type=\\"text\\/javascript\\"\\u003E\\nvar googletag = googletag || {};\\ngoogletag.cmd = googletag.cmd || [];\\n\\n(function() {\\n  var gads = document.createElement(\\"script\\");\\n  gads.async = true;\\n  gads.type = \\"text\\/javascript\\";\\n  var useSSL = \\"https:\\" == document.location.protocol;\\n  gads.src = (useSSL ? \\"https:\\" : \\"http:\\") +\\n    \\"\\/\\/www.googletagservices.com\\/tag\\/js\\/gpt.js\\";\\n  var node = document.getElementsByTagName(\\"script\\")[0];\\n  node.parentNode.insertBefore(gads, node);\\n})();\\n\\ngoogletag.cmd.push(function() {\\n  googletag.pubads().collapseEmptyDivs();\\n  googletag.pubads().addEventListener(\'slotRenderEnded\', function(e) {\\n    return $(\'#application\').trigger(\'slotRenderEnded\', e);\\n  });\\n  googletag.enableServices();\\n});\\n\\u003C\\/script\\u003E\\n\\n\\u003C!-- quests custom styling --\\u003E\\n\\u003Cstyle type=\\"text\\/css\\"\\u003E\\n  #sidebar .panels .panel[data-kind=\'quests\']:before {\\n    content: \\"THIS PROMOTION IS OPEN ONLY TO LEGAL RESIDENTS OF THE UNITED STATES WHO ARE 18 YEARS OF AGE OR OLDER AT TIME OF ENTRY.\\";\\n    display: block;\\n    padding: 10px 45px;\\n    font-size: 10px;\\n    opacity: .4;\\n    text-align: center;\\n  }\\n\\u003C\\/style\\u003E\\n\\n\\u003C!-- css overrides on all quests --\\u003E\\n\\u003Cstyle\\u003E\\n#player {background-color: #000;}\\n.dobi-modal.login-modal .maestro {display: none !important}\\n#header .auth {display: none !important;}\\n#footer .sponsors .sponsor[data-name=\\"Powered By Maestro\\"] {\\n  display: none !important;\\n}\\n\\n\\/* styling to hide google and embed share from player footer *\\/\\n#player .footer .share.btn.right .menu .btn[data-service=\\"google\\"] {\\n  display: none !important;\\n}\\n#player .footer .share.btn.right .menu .btn[data-service=\\"embed\\"] {\\n  display: none !important;\\n}\\n\\u003C\\/style\\u003E\\n\\n\\u003C!-- css overrides for cbs iframe integration --\\u003E\\n\\u003Cstyle\\u003E\\n\\/* styling to info button and share from player footer *\\/\\nhtml.grammys #navigation {\\n  display: none !important;\\n}\\nhtml.grammys #player .footer .share.btn.right {\\n  display: none !important;\\n}\\nhtml.grammys #player .footer .info-view.btn.right {\\n  display: none !important;\\n}\\n\\n\\/* hide powered by maestro, display image of it instead *\\/\\n\\/* hand hide nav, header, footer sponsor and footer hash *\\/\\nhtml.grammys #footer .maestro-back {\\n  display: none !important;\\n}\\nhtml.grammys #footer \\u003E .actions {\\n  display: none !important;\\n}\\nhtml.grammys #footer \\u003E .hashtag.btn {\\n  display: none !important;\\n}\\nhtml.grammys #footer .sponsors .sponsor[data-name=\\"Powered By Maestro\\"] {\\n  display: block !important;\\n}\\nhtml.grammys #application.nav-on #header {\\n  display: none !important;\\n}\\n\\nhtml.grammys #application.header-on #header {\\n  display: none !important;\\n}\\n\\n\\/* web styling *\\/\\n@media (min-width: 801px) {\\n  html.grammys #application.header-on #player {\\n    top: 0 !important;\\n  }\\n  html.grammys #application.header-on #sidebar {\\n    top: 0 !important;\\n  }\\n  html.grammys #application.header-on.nav-on #player {\\n    top: 0 !important;\\n  }\\n  html.grammys #application.header-on.nav-on #sidebar {\\n    top: 0 !important;\\n  }\\n}\\n\\n\\/* mobile styling*\\/\\n@media (max-width: 800px) {\\n  html.grammys #application.mobile-header-on #player {\\n    top: 0 !important;\\n  }\\n  html.grammys #application.mobile-header-on #sidebar {\\n    top: 240px !important;\\n  }\\n}\\n\\n\\u003C\\/style\\u003E\\n\\u003C!-- end header --\\u003E\\n"},"domain":{"url":"live.grammy.com"},"email":{"closing":"Thank You!","copyright":"LessThan3, Inc","from":"LessThan3","mailing_address":"LessThan3, Inc.\\n1181 Oak Street\\nSan Francisco, CA 94117","signature":"The LessThan3 Crew"},"events":[{"from":1483318200,"name":"Test Event","to":1485823800},{"from":1485989760,"name":"Early Feb","to":1486767360},{"from":1486886400,"name":"Grammys Day","to":1486972800}],"icons":{"favicon":"\\/media\\/563ba64f90bf832419d73019\\/icon-16.png"},"redirects":[{"kind":302,"source":"\\/highlights","target":"http:\\/\\/live.grammy.com\\/"}],"security":{"password":""},"seo":{"description":"I am watching GRAMMY Live \\u2013 behind the scenes at the GRAMMY Awards","image":"http:\\/\\/live.grammy.com\\/media\\/5898bede010a78927dc82a42\\/seo-img-1.jpg?no_redirect=1","title":"grammy.com\\/live"},"services":{"disqus_shortname":"","facebook_app_id":"911702652283835","google_analytics_id":"UA-10765415-23"},"timezone_offset":480,"transitions":{"mobile":"slide","web":"roll"}},"shards":["lessthan3","maestro-01","maestro-02","maestro-03","maestro-04","maestro-05"],"slug":"grammys-2017","style":{"active_color":"#b7952f","background":"#009800","background_color":"#f6f6f6","body_font":"din-medium","content_background_color":"#ffffff","content_text_color":"#2c2c2c","font":"gotham","kind":"advanced","theme":"maestro","title_background_color":"#c4c4c4","title_font":"din-bold","title_text_color":"#2c2c2c"},"users":{"email-Jim,Cannella@grammy,com":"admin","email-ari@maestro,io":"admin","email-bryant@maestro,io":"user","email-chris,porter@lessthan3,com":"admin","email-chung@maestro,io":"admin","email-domen@maestro,io":"admin","email-jason@maestro,io":"admin","email-miranda,eggleston@grammy,com":"admin","email-olivia@maestro,io":"admin","email-steve@maestro,io":"admin","undefined":"admin"},"users-chris,porter@lessthan3,com":"admin"};\nlt3.init.object = {"_id":"588f9e42bcaa47c86e047b82","collection":"pages","created":1485807170599,"data":{"ads":{"pre_roll_video":{"enabled":false,"rate_limit":0,"skip_time":0,"video":{"_id":"585c2b7792364f891fb00554","data":{"name":"CBS Pre-Roll"},"slug":"cbs-pre-roll"}}},"copy_override":[{"new_copy":"Your livestream is about to begin","original_copy":"We\'ll be right back to your original\\nscheduled content in just a minute"}],"default_mode":"default","name":"59th GRAMMYs","schedule":[{"all_day":"yes","duration":1800,"end_time":"Feb 13 2017 00:00:00 GMT+0000 (GMT)","kind":"video","repeat":"daily","show_countdown":false,"start_date":"Feb 12 2017","start_time":"Feb 12 2017 00:00:00 GMT+0000 (GMT)","video":{"_id":"58a14866ff5715cd6d7df13a","data":{"name":"59th GRAMMY Premiere"},"slug":"59th-grammy-premiere"}}],"sidebar":[{"icon":"happy","kind":"stored_panel","results":"hide","stored_panel":{"_id":"588f9e0fe86f416a7db7b3ef","slug":"thanks-post"},"title":"Thank You!"},{"icon":"share","kind":"stored_panel","results":"hide","stored_panel":{"_id":"5850810e510aee933adf38c6","slug":"social"},"title":"Social"},{"kind":"now_playing","results":"hide","title":"Now Playing"}],"title":"59th GRAMMYs","welcome_screen":{"active":true,"duration":5,"image":"\\/media\\/58756571ce4b33d66acda957\\/welcome2.jpg","mobile_image":"\\/media\\/587565fafd1120475ced5988\\/mobile-welcome2.jpg"}},"last_modified":1488397306178,"seo":{"title":"59th GRAMMYs"},"site_id":"584f5da6a5c630e278471ed2","slug":"","type":"channel"};', u' start footer ', u'\n', u'  add grammys class if coming from iframe ', u'\n', u"\n  var is_iframe;\n  is_iframe = (window.location != window.parent.location) ? true : false;\n  if (is_iframe) {\n    $('html').addClass('grammys');\n  }\n", u'\n', u' generate random ad target value for CBS ads ', u'\n', u"\n  function randomGrammyAdGenerator() {\n    if (dobi.storage.get('cbs') === null) {\n      var category = _.sample(['a', 'b', 'c', 'd']);\n      dobi.storage.set('cbs', category);\n    }\n    if (dobi.storage.get('CBS_ADV_SUBSES_VAL') === null) {\n      var subses = _.sample(['1', '2', '3', '4']);\n      dobi.storage.set('CBS_ADV_SUBSES_VAL', subses);\n    }\n    return\n  }\n  randomGrammyAdGenerator()\n", u'\n', u' handle footer hashtag override ', u'\n', u'\n(function(next) {\n  var loadDependencies;\n  loadDependencies = function() {\n    var ref, ref1;\n    if (typeof app !== "undefined" && app !== null ? (ref = app.regions) != null ? (ref1 = ref.footer) != null ? ref1.$el : void 0 : void 0 : void 0) {\n      return next();\n    } else {\n      return setTimeout((function() {\n        return loadDependencies();\n      }), 100);\n    }\n  };\n  return loadDependencies();\n})(function(throwaway) {\n  return app.regions.footer.ref.on(\'value\', function() {\n    return app.regions.footer.setTimeout(\'wait-for-render\', 1, function() {\n      var qs;\n      qs = \'.hashtag[data-service="twitter"]\';\n      return app.regions.footer.$el.find(qs).off(\'click\').on(\'click\', function(e) {\n        var h, k, left, params, ref, ref1, service, top, url, v, w, wh, ww;\n        e.stopPropagation();\n        params = ((function() {\n          var ref, results;\n          ref = {\n            text: \'I am watching behind-the-scenes action on\',\n            url: window.location,\n            hashtags: \'GRAMMYLive!\'\n          };\n          results = [];\n          for (k in ref) {\n            v = ref[k];\n            results.push(k + "=" + (encodeURIComponent(v)));\n          }\n          return results;\n        })()).join(\'&\');\n        ww = $(window).width();\n        wh = $(window).height();\n        w = Math.min(650, ww);\n        h = Math.min(400, wh);\n        left = (ww - w) / 2;\n        top = (wh - h) / 2;\n        url = "https://twitter.com/intent/tweet?" + params;\n        window.open(url, \'Share a link on Twitter\', [\'toolbar=no\', \'location=no\', \'directories=no\', \'status=no\', \'menubar=no\', \'scrollbars=no\', \'resizable=no\', \'copyhistory=no\', "width=" + w, "height=" + h, "top=" + top, "left=" + left].join(\',\'));\n        service = \'twitter\';\n        if ((ref = app.regions.player) != null) {\n          ref.emit(\'social-share\', service);\n        }\n        return (ref1 = app.regions.player) != null ? ref1.trackSocialVideo(service) : void 0;\n      });\n    });\n  });\n});\n', u'\n', u' handle player footer override ', u'\n', u'\n(function() {\n  var init;\n  init = function(next) {\n    var ref, ref1;\n    if (!(typeof app !== "undefined" && app !== null ? (ref = app.regions) != null ? (ref1 = ref.player) != null ? ref1.$el : void 0 : void 0 : void 0)) {\n      return setTimeout((function() {\n        return init(next);\n      }), 100);\n    } else {\n      return next();\n    }\n  };\n  return init(function() {\n    return app.regions.player.on(\'player-change\', function() {\n      return app.regions.player.setTimeout(\'wait-for-render\', 1, function() {\n        var $player, $twitter;\n        $player = app.regions.player.$el;\n        $twitter = $player.find(".share .menu .btn[data-service=\'twitter\']");\n        return $twitter.off(\'click\').on(\'click\', function(e) {\n          var h, k, left, params, ref, ref1, service, top, url, v, w, wh, ww;\n          e.stopPropagation();\n          params = ((function() {\n            var ref, results;\n            ref = {\n              text: \'I am watching behind-the-scenes action on\',\n              url: window.location,\n              hashtags: \'GRAMMYLive!\'\n            };\n            results = [];\n            for (k in ref) {\n              v = ref[k];\n              results.push(k + "=" + (encodeURIComponent(v)));\n            }\n            return results;\n          })()).join(\'&\');\n          ww = $(window).width();\n          wh = $(window).height();\n          w = Math.min(650, ww);\n          h = Math.min(400, wh);\n          left = (ww - w) / 2;\n          top = (wh - h) / 2;\n          url = "https://twitter.com/intent/tweet?" + params;\n          window.open(url, \'Share a link on Twitter\', [\'toolbar=no\', \'location=no\', \'directories=no\', \'status=no\', \'menubar=no\', \'scrollbars=no\', \'resizable=no\', \'copyhistory=no\', "width=" + w, "height=" + h, "top=" + top, "left=" + left].join(\',\'));\n          service = \'twitter\';\n          if ((ref = app.regions.player) != null) {\n            ref.emit(\'social-share\', service);\n          }\n          return (ref1 = app.regions.player) != null ? ref1.trackSocialVideo(service) : void 0;\n        });\n      });\n    });\n  });\n})();\n', u'\n', u' pre-roll logic ', u'\n', u'\n(function() {\n  var feb_10_2017, init;\n  feb_10_2017 = 1486746000000;\n  init = function() {\n    var initPreRoll, state, _ref, _ref1;\n    if (!(typeof app !== "undefined" && app !== null ? (_ref = app.regions) != null ? (_ref1 = _ref.player) != null ? typeof _ref1.activePlayer === "function" ? _ref1.activePlayer() : void 0 : void 0 : void 0 : void 0)) {\n      return setTimeout((function() {\n        return init();\n      }), 250);\n    }\n    switch (lt3.site.get(\'slug\').val()) {\n      case \'grammys-2017-pre\':\n        state = \'pre\';\n        break;\n      case \'grammys-2017\':\n        state = \'production\';\n        break;\n      case \'grammys-2017-cbs\':\n      case \'grammys-2017-live\':\n      case \'grammys-2017-testing\':\n        state = \'live\';\n        break;\n      case \'grammys-2017-post\':\n        state = \'post\';\n        break;\n      default:\n        return dobi.warn(\'invalid site\');\n    }\n    initPreRoll = function() {\n      var ad, enabled, funcs, page_title, _ref2, _ref3, _ref4;\n      if (((_ref2 = lt3.object) != null ? _ref2.get(\'type\').val() : void 0) !== \'channel\') {\n        return;\n      }\n      page_title = lt3.object.get(\'seo.title\').val();\n      funcs = app.regions.player.handlers[\'player-change\'] || [];\n      app.regions.player.handlers[\'player-change\'] = funcs.filter(function(func) {\n        return !/grammy_preroll_listener/.test(func.toString());\n      });\n      enabled = false;\n      if (state === \'pre\') {\n        if (state === \'pre\') {\n          enabled = true;\n        }\n      }\n      if (state === \'live\' || state === \'post\') {\n        if (/highlights/i.test(page_title)) {\n          enabled = true;\n        }\n      }\n      if (state === \'production\' && Date.now() >= feb_10_2017) {\n        if (/highlights/i.test(page_title)) {\n          enabled = true;\n        }\n      }\n      if (!enabled) {\n        return;\n      }\n      ad = lt3.object.get(\'data.ads.pre_roll_video\').val();\n      if (!(ad != null ? (_ref3 = ad.video) != null ? _ref3._id : void 0 : void 0)) {\n        return dobi.warn(\'pre-roll not found\');\n      }\n      return db.objects.findById(ad != null ? (_ref4 = ad.video) != null ? _ref4._id : void 0 : void 0, function(err, video) {\n        var current_player_state, loadPreRoll, onPlayerChange, playlist_counter, prev_player_state, prev_playlist_preroll_time;\n        if (err) {\n          return dobi.warn(err);\n        }\n        current_player_state = \'init\';\n        playlist_counter = 0;\n        prev_player_state = \'init\';\n        prev_playlist_preroll_time = 0;\n        loadPreRoll = function() {\n          var _ref5;\n          return (_ref5 = app.regions.player) != null ? _ref5.annotate({\n            ad: {\n              data: {\n                companion_ads: [],\n                kind: \'vast\',\n                name: \'CBS Pre-Roll\',\n                url: video.get(\'data.url\').val()\n              }\n            },\n            kind: \'show_video_ad\',\n            skip_time: 0,\n            on: {\n              stop: function() {\n                playlist_counter = 0;\n                return prev_playlist_preroll_time = Date.now();\n              }\n            }\n          }) : void 0;\n        };\n        onPlayerChange = function(player) {\n          var x;\n          if (!player) {\n            return;\n          }\n          x = \'grammy_preroll_listener\';\n          prev_player_state = current_player_state;\n          current_player_state = player.$el.data(\'spot\');\n          switch (current_player_state) {\n            case \'channel\':\n              if (prev_player_state === \'channel\') {\n                playlist_counter++;\n                if ((Date.now() - prev_playlist_preroll_time) >= (2 * 60 * 1000)) {\n                  if (playlist_counter >= 3) {\n                    app.regions.player.players.channel.player.mute(0);\n                    app.regions.player.removePlayer(\'channel\');\n                    return loadPreRoll();\n                  }\n                }\n              } else if (prev_player_state === \'video\') {\n                return playlist_counter = 0;\n              }\n              break;\n            case \'video\':\n              if (prev_player_state === \'channel\') {\n                return playlist_counter = 0;\n              }\n          }\n        };\n        return app.regions.player.on(\'player-change\', onPlayerChange);\n      });\n    };\n    initPreRoll();\n    return app.regions.header.objectLoading = function() {\n      return initPreRoll();\n    };\n  };\n  return init();\n})();\n', u'\n', u' end footer ', u'\n']